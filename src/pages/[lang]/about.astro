---
import Base from '../../layouts/Base.astro';
import { t, DEFAULT_LANG, type Lang } from '../../i18n';
import { getCanonicalUrl } from '../../utils/seo';

const lang = (Astro.params.lang as Lang | undefined) ?? DEFAULT_LANG;
const title = t(lang, 'seo_about_title');
const description = t(lang, 'seo_about_description');
const url = getCanonicalUrl(lang, '/about');

const teamMembers = [
  {
    name: t(lang, 'about_member_ana_name'),
    role: t(lang, 'about_member_ana_role'),
    details: t(lang, 'about_member_ana_details'),
    bio: t(lang, 'about_member_ana_bio'),
    image: '/team-esther.png',
    imageAlt: t(lang, 'about_member_ana_image_alt'),
  },
  {
    name: t(lang, 'about_member_javier_name'),
    role: t(lang, 'about_member_javier_role'),
    details: t(lang, 'about_member_javier_details'),
    bio: t(lang, 'about_member_javier_bio'),
    image: '/team-jordi.jpg',
    imageAlt: t(lang, 'about_member_javier_image_alt'),
  },
];
---
<Base title={title} description={description} url={url} lang={lang}>
  <section class="mx-auto max-w-container px-4 py-10 md:py-16">
    <h1 class="text-3xl font-bold text-white md:text-4xl">{t(lang, 'about_title')}</h1>
    <p class="mt-4 max-w-3xl text-lg text-white/80 md:text-xl">{t(lang, 'about_intro')}</p>
  </section>

  <section class="mx-auto max-w-container px-4 pb-16">
    <div class="space-y-12 md:space-y-16">
      <header class="space-y-3">
        <h2 class="text-2xl font-semibold text-white md:text-3xl">{t(lang, 'about_team_title')}</h2>
        <p class="max-w-3xl text-base text-white/70 md:text-lg">{t(lang, 'about_team_intro')}</p>
      </header>

      <div class="space-y-14">
        {teamMembers.map((member, index) => (
          <article
            class="grid grid-cols-1 gap-8 rounded-3xl border border-white/5 bg-white/5 p-6 backdrop-blur md:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)] md:gap-12 md:p-10"
          >
            <figure
              class={`mx-auto w-full max-w-[280px] overflow-hidden rounded-2xl bg-white/5 shadow-[0_18px_40px_rgba(8,12,32,.35)] sm:max-w-[320px] md:max-w-[360px] ${
                index % 2 === 0
                  ? 'md:order-1 md:justify-self-start'
                  : 'md:order-2 md:justify-self-end'
              }`}
            >
              <img
                src={member.image}
                alt={member.imageAlt}
                class="block h-[360px] w-full object-cover object-center sm:h-[420px]"
                loading="lazy"
                decoding="async"
              />
            </figure>

            <div
              class={`space-y-3 text-left ${
                index % 2 === 0 ? 'md:order-2' : 'md:order-1'
              }`}
            >
              <h3 class="text-2xl font-semibold text-white md:text-[28px]">{member.name}</h3>
              <p class="text-base font-medium uppercase tracking-wide text-brand-accent/90 md:text-lg">
                {member.role}
              </p>
              <p class="text-sm text-white/70 md:text-base">{member.details}</p>
            </div>

            <p class="text-sm leading-relaxed text-white/70 md:col-span-2 md:text-base">{member.bio}</p>
          </article>
        ))}
      </div>
    </div>
  </section>
</Base>